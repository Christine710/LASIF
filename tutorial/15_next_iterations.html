

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>16. Next Iterations &mdash; LASIF 0.1.x documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="LASIF 0.1.x documentation" href="../index.html"/>
        <link rel="up" title="Tutorial" href="../tutorial.html"/>
        <link rel="next" title="17. Customizing LASIF" href="16_customizing_lasif.html"/>
        <link rel="prev" title="15. Model Update" href="14_model_update.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> LASIF
          

          
          </a>

          
            
            
              <div class="version">
                0.1.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../prerequisites.html">Installation, Testing &amp; DevInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="00_interfaces.html">1. Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_creating_a_new_project.html">2. Creating a New Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_seismic_events.html">3. Seismic Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_station_data.html">4. Station Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_waveform_data.html">5. Waveform Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_download_helpers.html">6. Download Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_data_inspection.html">7. Data Inspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_data_validation.html">8. Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_a_new_iteration.html">9. Defining a New Iteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_data_preprocessing.html">10. Data Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_model_handling.html">11. Earth Model Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="11_generating_input_files.html">12. Generating Input Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="12_synthetic_waveforms.html">13. Synthetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="13_misfits_and_adjoint_sources.html">14. Misfit and Adjoint Source Calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="14_model_update.html">15. Model Update</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">16. Next Iterations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-new-iteration-from-scratch">16.1. Create a new iteration from scratch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deriving-from-an-existing-iteration">16.2. Deriving from an existing iteration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#migrating-the-misfit-windows">16.3. Migrating the misfit windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="16_customizing_lasif.html">17. Customizing LASIF</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webinterface.html">Web Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_doc.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LASIF</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorial.html">Tutorial</a> &raquo;</li>
        
      <li>16. Next Iterations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/15_next_iterations.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p class="centered">
<strong>Last updated on <em>August 12th 2016</em>.</strong></p><div class="section" id="next-iterations">
<h1>16. Next Iterations<a class="headerlink" href="#next-iterations" title="Permalink to this headline">¶</a></h1>
<p>Once you updated your model it is time to go to the next iteration.
Depending on the state of the inversion and your goals you might which to
add more events and data. Just use the tools introduced in the previous
sections. Please never delete data you used in any of the iterations,
otherwise you hurt the reproducibility of your inversion.</p>
<p>You essentially have two options to go from one iteration to the next:
Create a new iteration or update from the previous one. In any case,
you are responsible for the name of the iteration.</p>
<div class="section" id="create-a-new-iteration-from-scratch">
<h2>16.1. Create a new iteration from scratch<a class="headerlink" href="#create-a-new-iteration-from-scratch" title="Permalink to this headline">¶</a></h2>
<p>Here we will create an iteration <code class="docutils literal"><span class="pre">2</span></code> for the tutorial with the same settings
as iteration <code class="docutils literal"><span class="pre">1</span></code>.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ lasif create_new_iteration <span class="m">2</span> <span class="m">40</span>.0 <span class="m">100</span>.0 SES3D_4_1
</pre></div>
</div>
<p>Using this command will create a new iteration with all the data currently in
the project, thus all events and all waveforms it can find. This is also
useful if you want to choose a different waveform solver or a different
frequency range for the next iteration.</p>
</div>
<div class="section" id="deriving-from-an-existing-iteration">
<h2>16.2. Deriving from an existing iteration<a class="headerlink" href="#deriving-from-an-existing-iteration" title="Permalink to this headline">¶</a></h2>
<p>The other option is to derive a new iteration from an existing iteration. In
this case, the solver and preprocessing settings will remain the same,
as will the used data. Any data not used for the previous iteration will
also not be used for this iteration.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ lasif create_successive_iteration <span class="m">1</span> <span class="m">2</span>
</pre></div>
</div>
<p>This commando takes an existing iteration <code class="docutils literal"><span class="pre">1</span></code> and uses it as a template
for iteration <code class="docutils literal"><span class="pre">2</span></code>.</p>
</div>
<div class="section" id="migrating-the-misfit-windows">
<h2>16.3. Migrating the misfit windows<a class="headerlink" href="#migrating-the-misfit-windows" title="Permalink to this headline">¶</a></h2>
<p>Once the windows for the misfit calculation have been determined for an
iteration they can usually be used for a couple of iterations before they have
to be determined again. The following command will take all windows defined
in iteration <code class="docutils literal"><span class="pre">1</span></code> and transfer them to iteration <code class="docutils literal"><span class="pre">2</span></code>. The synthetics for
iteration <code class="docutils literal"><span class="pre">2</span></code> already need to be available. Depending on the size of the
iteration, this might take a while as it also calculates the adjoint sources
for each window.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ lasif migrate_windows <span class="m">1</span> <span class="m">2</span>
</pre></div>
</div>
<p>Please keep in mind that this command will not create windows for data not
present in the first iteration.</p>
<p>The <code class="docutils literal"><span class="pre">finalize_adjoint_sources</span></code> command can then be used generate the
adjoint sources in a format suitable for SES3D to finish the iteration.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="16_customizing_lasif.html" class="btn btn-neutral float-right" title="17. Customizing LASIF" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="14_model_update.html" class="btn btn-neutral" title="15. Model Update" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Lion Krischer &amp; Andreas Fichtner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.x',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>12. Generating Input Files &mdash; LASIF 0.1.x documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="LASIF 0.1.x documentation" href="../index.html"/>
        <link rel="up" title="Tutorial" href="../tutorial.html"/>
        <link rel="next" title="13. Synthetics" href="12_synthetic_waveforms.html"/>
        <link rel="prev" title="11. Earth Model Handling" href="10_model_handling.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> LASIF
          

          
          </a>

          
            
            
              <div class="version">
                0.1.x
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../prerequisites.html">Installation, Testing &amp; DevInfo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="00_interfaces.html">1. Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_creating_a_new_project.html">2. Creating a New Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_seismic_events.html">3. Seismic Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_station_data.html">4. Station Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_waveform_data.html">5. Waveform Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_download_helpers.html">6. Download Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_data_inspection.html">7. Data Inspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_data_validation.html">8. Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_a_new_iteration.html">9. Defining a New Iteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_data_preprocessing.html">10. Data Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_model_handling.html">11. Earth Model Handling</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">12. Generating Input Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-file-generation">12.1. Input File Generation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="12_synthetic_waveforms.html">13. Synthetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="13_misfits_and_adjoint_sources.html">14. Misfit and Adjoint Source Calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="14_model_update.html">15. Model Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="15_next_iterations.html">16. Next Iterations</a></li>
<li class="toctree-l2"><a class="reference internal" href="16_customizing_lasif.html">17. Customizing LASIF</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webinterface.html">Web Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_doc.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LASIF</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorial.html">Tutorial</a> &raquo;</li>
        
      <li>12. Generating Input Files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/11_generating_input_files.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p class="centered">
<strong>Last updated on <em>August 12th 2016</em>.</strong></p><div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The following links shows the example project as it should be just before
step 11. You can use this to check your progress or restart the tutorial at
this very point.</p>
<p class="last"><a class="reference external" href="https://github.com/krischer/LASIF_Tutorial/tree/after_step_11_earth_model_handling">After Step 11: Earth Model Handling</a></p>
</div>
<div class="section" id="generating-input-files">
<h1>12. Generating Input Files<a class="headerlink" href="#generating-input-files" title="Permalink to this headline">¶</a></h1>
<p><strong>LASIF</strong> is capable of producing input files for all supported waveform
solvers. It knows what data is available for every event and thus can generate
these files fully automatically.</p>
<p>The iteration files discussed in one of the previous sections are also used to
define the solver settings.</p>
<div class="section" id="input-file-generation">
<h2>12.1. Input File Generation<a class="headerlink" href="#input-file-generation" title="Permalink to this headline">¶</a></h2>
<p>The actual input file generation is now very straightforward:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ lasif generate_input_files ITERATION_NAME EVENT_NAME --simulation_type<span class="o">=</span>SIMULATION_TYPE
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">SIMULATION_TYPE</span></code> has to be one of</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">normal_simulation</span></code> - Use this if you want to get some waveforms, but
do not need to save the whole forward wavefield.</li>
<li><code class="docutils literal"><span class="pre">adjoint_forward</span></code> - Use this for the forward adjoint simulation. Please
note that it requires a huge amount of disk space for the forward
wavefield.</li>
<li><code class="docutils literal"><span class="pre">adjoint_reverse</span></code> - Use this for the adjoint simulation. This requires
that the adjoint sources have already been calculated. More on that later
on.</li>
</ul>
</div></blockquote>
<p>The other parameters should be clear.</p>
<p>For this tutorial you can generate input files for both events with</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ lasif generate_input_files <span class="m">1</span> GCMT_event_NORTHERN_ITALY_Mag_4.9_2000-8-21-17 --simulation_type<span class="o">=</span>adjoint_forward
$ lasif generate_input_files <span class="m">1</span> GCMT_event_NORTHWESTERN_BALKAN_REGION_Mag_5.9_1980-5-18-20 --simulation_type<span class="o">=</span>adjoint_forward
</pre></div>
</div>
<p>This will place input files in the <code class="docutils literal"><span class="pre">OUTPUT/input_files</span></code> subdirectory of the
project. In general it is advisable to never delete the input files to
facilitate provenance and reproducibility.</p>
<p>If you are working in a rotated domain, all station coordinates and moment
tensors will automatically be rotated accordingly so that the actual simulation
can take place in an unrotated frame of reference.</p>
<p>Together with the model files for a given iteration model, these files can
directly be used to run SES3D simulations (for other solvers the model part
must be handled seperately). For the first couple of runs it is likely a good
idea to check these files by hand in order to verify your setup.</p>
<p>It is no hassle to run the command twice if you only have two events, for more
events, just run</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ lasif generate_all_input_files <span class="m">1</span> --simulation_type<span class="o">=</span>adjoint_forward
</pre></div>
</div>
<p>which generates all input files for any given iteration.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="12_synthetic_waveforms.html" class="btn btn-neutral float-right" title="13. Synthetics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="10_model_handling.html" class="btn btn-neutral" title="11. Earth Model Handling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Lion Krischer &amp; Andreas Fichtner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.x',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>